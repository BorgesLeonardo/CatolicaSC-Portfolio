sonar.projectKey=BorgesLeonardo_CatolicaSC-Portfolio
sonar.projectName=Catolica SC Portfolio
sonar.organization=catolicasc-portfolio
sonar.sourceEncoding=UTF-8

# Fontes e testes — Backend e Frontend
sonar.sources=backend/src,frontend/src
sonar.tests=backend/src/test,frontend/src

# Cobertura (Jest Backend + Vitest Frontend)
# A propriedade de JS cobre JS e TS; mantemos a de TS por compatibilidade
sonar.javascript.lcov.reportPaths=backend/coverage/lcov.info,frontend/coverage-unit/lcov.info
sonar.typescript.lcov.reportPaths=backend/coverage/lcov.info,frontend/coverage-unit/lcov.info
sonar.typescript.tsconfigPaths=backend/tsconfig.json,frontend/tsconfig.json

# Novo Código — comparar sempre com a branch principal
sonar.newCode.referenceBranch=main

# Certifique-se no Sonar de ter a condição "Coverage on New Code >= 80%"
# no Quality Gate do projeto/organização.

# Alinhar exclusões de cobertura com Jest (fluxos de integração/SSE/difíceis de ramificar)
sonar.coverage.exclusions=backend/src/app.ts,backend/src/server.ts,backend/src/infrastructure/prisma.ts,backend/src/routes/events.ts,backend/src/middleware/rateLimit.ts,backend/src/controllers/webhook.controller.ts,backend/src/controllers/connect.controller.ts,backend/src/controllers/me.controller.ts,backend/src/services/contribution.service.ts,backend/src/services/contributions.service.ts,backend/src/schemas/campaign.ts,frontend/src/pages/**,frontend/src/layouts/**,frontend/src/router/**,frontend/src/stores/**,frontend/src/boot/**,frontend/src/config/**,frontend/src/components/**

# Exclusões comuns (não-código)
sonar.exclusions=**/node_modules/**,**/dist/**,**/.quasar/**,**/coverage/**,**/coverage-unit/**,**/*.d.ts,**/prisma/**,**/*.config.*,frontend/public/**,backend/uploads/**
sonar.qualitygate.wait=true
sonar.test.inclusions=**/*.spec.ts,**/*.test.ts,**/*.spec.js,**/*.test.js
sonar.test.exclusions=**/node_modules/**,**/dist/**,**/coverage/**,**/coverage-unit/**
